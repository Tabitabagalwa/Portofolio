<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="../mes projets/calculateur/calculateur.css" />
  </head>
  <body>
    <form onsubmit="calculerpaiement(); return false; " class="forme">
      <div class="container">
        <h1>calculateur de prêt hypothécaire</h1>

        <label for="montant">montant du prêt</label>
        <input type="number" id="montant" min="1" step="0.01" required />
        <label for="taux">taux d'intérêt</label>
        <input type="number" id="taux" min="0.01" step="0.01" required />
        <label for="annee">durée en année</label>
        <input type="number" id="annee" required min="1" max="30" />

        <button type="submit">Calculer</button>

        <p>voici le resultat <span id="resultatpaiement"></span></p>
      </div>
    </form>
    <script>
      function calculerpaiement() {
        // Renommée pour correspondre à l'appel onsubmit
        const p = parseFloat(document.getElementById("montant").value);
        const t = parseFloat(document.getElementById("taux").value);
        const a = parseFloat(document.getElementById("annee").value);
        const resultat = document.getElementById("resultatpaiement");
        resultat.innerHTML = "";

        if (isNaN(p) || isNaN(t) || isNaN(a) || p <= 0 || t <= 0 || a <= 0) {
          alert(
            "veuillez remplir tous les champs,mais aussi saisir des montants positifs et valides"
          );
          return;
        }
        const r = t / 100 / 12;
        const n = a * 12;
        if (r === 0 || n === 0) {
          const msimple = p / n;
          resultat.innerHTML = `paiement mensuel ${msimple.toFixed(2)}$`;
          return;
        }

        const puissance = Math.pow(1 + r, n);
        const numerateur = r * puissance;
        const denominateur = puissance - 1;
        const facteur = numerateur / denominateur;
        const m = p * facteur;
        resultat.innerHTML = `<p> le paiement mensuel du prêt hypothécaire est de <span> ${m.toFixed(
          2
        )}$  </span> </p>
        <p> prêt de ${p}$ avec un taux de ${t}% pendant ${a} ans </p>`;
      }
    </script>
  </body>
</html>



